[
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 1``",
        "columnName": "Title 1"
    }
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 1 1``",
        "columnName": "Title 1 1"
    }
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 2``",
        "columnName": "Title 2"
    }
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 2 1``",
        "columnName": "Title 2 1"
    }
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 3``",
        "columnName": "Title 3"
    }
    {
        "op": "core/column-removal",
        "description": "Remove column ``Title 3 1``",
        "columnName": "Title 3 1"
    }
    {
        "op": "core/text-transform",
        "description": "Change values in column ``Record Number Copy`` to the Ebook Central ID for the record if able to be matched",
        "engineConfig": {
            "facets": [],
            "mode": "record-based"
        },
        "columnName": "Record Number Copy",
        "expression": "grel:cell.cross(\"Entitlements csv\",\"Match\")[0].cells.ID.value",
        "onError": "keep-original",
        "repeat": false,
        "repeatCount": 10
    }
    {
        "op": "core/text-transform",
        "description": "Change Ebook Central ID values in column ``Record Number Copy`` to number format",
        "engineConfig": {
            "facets": [],
            "mode": "record-based"
        },
        "columnName": "Record Number Copy",
        "expression": "value.toNumber()",
        "onError": "keep-original",
        "repeat": false,
        "repeatCount": 10
    },
    {
        "op": "core/row-removal",
        "description": "Remove records containing a single HOL where the title isn't a perpetual access entitlement and the BIB's Ebook Central URL is labeled as for the SciTech collection",
        "engineConfig": {
            "facets": [
                {
                    "type": "list",
                    "name": "Record Number Copy",
                    "expression": "grel:isNumeric(value)",
                    "columnName": "Record Number Copy",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": false,
                                "l": "false"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Record Number",
                    "expression": "grel:toString(row.record.toRowIndex-row.record.fromRowIndex)",
                    "columnName": "Record Number",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": "1",
                                "l": "1"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Ebook Central BIB URLs",
                    "expression": "grel:value==\"SciTech Collection\"",
                    "columnName": "Ebook Central BIB URLs",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": true,
                                "l": "true"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                }
            ],
            "mode": "record-based"
        }
    }
    {
        "op": "core/row-removal",
        "description": "Remove records with a single non-suppressed FSUER HOL where the URL is for a non-Ebook Central platform",
        "engineConfig": {
            "facets": [
                {
                    "type": "list",
                    "name": "Record Number Copy",
                    "expression": "grel:isNumeric(value)",
                    "columnName": "Record Number Copy",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": false,
                                "l": "false"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Record Number",
                    "expression": "grel:toString(row.record.toRowIndex-row.record.fromRowIndex)",
                    "columnName": "Record Number",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": "1",
                                "l": "1"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Suppressed",
                    "expression": "isBlank(value)",
                    "columnName": "Suppressed",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": true,
                                "l": "true"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Ebook Central BIB URLs",
                    "expression": "isBlank(value)",
                    "columnName": "Ebook Central BIB URLs",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": true,
                                "l": "true"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "HOL Sublibrary",
                    "expression": "value",
                    "columnName": "HOL Sublibrary",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": "FSUER",
                                "l": "FSUER"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                },
                {
                    "type": "list",
                    "name": "Other BIB URL Info",
                    "expression": "isBlank(value)",
                    "columnName": "Other BIB URL Info",
                    "invert": false,
                    "omitBlank": false,
                    "omitError": false,
                    "selection": [
                        {
                            "v": {
                                "v": false,
                                "l": "false"
                            }
                        }
                    ],
                    "selectBlank": false,
                    "selectError": false
                }
            ],
            "mode": "record-based"
        }
    }
]